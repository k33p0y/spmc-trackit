<script>
    let loc = window.location
    let wsStart = loc.protocol == "https:" ? "wss://" : "ws://";
    let url = wsStart + loc.host + '/ws/notifications/';
    const socket = new WebSocket(url)

    socket.onopen = function(event) {
        $('.online-status').addClass('text-success')
    }

    socket.onmessage = function(event) {
        console.log(event)
        //console.log(JSON.parse(event.data))
        console.log('message received')
    }

    socket.onclose = function(event) {
        $('.online-status').removeClass('text-success');
    }

    socket.onerror = function(event) {
        console.log(event)
        console.log('something went wrong')
    }
</script>